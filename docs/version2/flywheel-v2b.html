<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Pigeon Way - Integrated Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,600;0,700;1,600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; overflow-x: hidden; }
        .serif { font-family: 'Playfair Display', serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        .socle-premium {
            background-color: #0b0f19;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
            box-shadow: inset 0 20px 40px -10px rgba(0,0,0,0.8);
        }

        .glass-hub {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,1);
            box-shadow: 
                0 10px 30px -10px rgba(0,0,0,0.1),
                inset 0 0 20px rgba(255,255,255,0.8);
        }

        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    </style>
</head>

<body class="bg-slate-50 min-h-screen flex flex-col items-center justify-center p-4">

    <div id="root" class="w-full max-w-[1400px]"></div>

    <script type="text/babel">
        const { useState } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- UPDATED DATA ---
        const stages = [
            {
                id: 1,
                name: "DISCOVER",
                tagline: "We uncover potential.",
                color: "#D6407D", 
                gradient: ["#D6407D", "#9d174d"],
                health: 30, 
                people: { role: "Sales Leads", sub: "Account Directors (AS)" },
                process: [ { name: "Lead Mgmt", status: "NEW" }, { name: "Sales Process", status: "NEW" } ],
                aiData: {
                    rule: "Protect Revenue Velocity. Don't document relationship building; only document the container.",
                    docs: ["CRM Deal Stages", "Pricing/Contracts"],
                    implication: "Automated administrative offloading (Lead Scraping, CRM entry) rather than replacing core tasks."
                },
                // Updated: Logic mapped to Pillars
                gateway: {
                    finance: "Lock Terms & Pricing",
                    people: "Confirm Forecasting"
                },
                activePillars: ["finance", "people"]
            },
            {
                id: 2,
                name: "DEFINE",
                tagline: "We seek the truth.",
                color: "#84cc16", 
                gradient: ["#84cc16", "#4d7c0f"],
                health: 65,
                people: { role: "Strategists", sub: "Subject Matter Experts" },
                process: [ { name: "Client Brief", status: "ACTIVE" }, { name: "Onboarding", status: "ACTIVE" } ],
                aiData: {
                    rule: "Standardize inputs to standard outputs. Garbage in, garbage out.",
                    docs: ["Strategic Briefs", "Audience Personas"],
                    implication: "Generative AI can draft initial strategy decks if the Brief Data is structured correctly."
                },
                gateway: {
                    it: "Setup Project Tech",
                    finance: "Establish Burn Rate"
                },
                activePillars: ["it", "finance"]
            },
            {
                id: 3,
                name: "DEVELOP",
                tagline: "We build the solution.",
                color: "#f59e0b",
                gradient: ["#f59e0b", "#b45309"],
                health: 45,
                people: { role: "Creatives", sub: "Design Leads" },
                process: [ { name: "Packaging", status: "ACTIVE" } ],
                aiData: {
                    rule: "Tag assets metadata immediately. An untagged asset is an invisible asset.",
                    docs: ["Asset Libraries", "Version Control"],
                    implication: "AI-driven asset retrieval and variation generation (e.g., resizing for social) speeds up delivery."
                },
                gateway: {
                    it: "Secure Asset Storage"
                },
                activePillars: ["it"]
            },
            {
                id: 4,
                name: "DELIVER",
                tagline: "We make it real.",
                color: "#1e293b",
                gradient: ["#334155", "#0f172a"],
                health: 80,
                people: { role: "Producers", sub: "QA Team" },
                process: [ { name: "Production", status: "ACTIVE" } ],
                aiData: {
                    rule: "Compliance is binary. Use checklists to feed the validation engine.",
                    docs: ["QA Checklists", "Compliance Logs"],
                    implication: "Automated QA testing and compliance scanning against legal frameworks."
                },
                gateway: {
                    finance: "Billing & Invoicing"
                },
                activePillars: ["finance"]
            },
            {
                id: 5,
                name: "DYNAMIZE",
                tagline: "We grow together.",
                color: "#64748b",
                gradient: ["#94a3b8", "#475569"],
                health: 25,
                people: { role: "Executives", sub: "Strategists" },
                process: [ { name: "Feedback", status: "TODO" }, { name: "Optimization", status: "TODO" } ],
                aiData: {
                    rule: "Capture the 'Why'. Data tells us what happened; notes tell us why.",
                    docs: ["Retro Notes", "Client Feedback"],
                    implication: "Predictive analytics for client retention and automated case study generation."
                },
                gateway: {
                    marketing: "Create Case Study",
                    people: "eNPS Pulse Check"
                },
                activePillars: ["marketing", "people"]
            }
        ];

        const ProcessBadge = ({ status, color }) => (
            <span className={`text-[9px] font-bold px-1.5 py-0.5 rounded text-white`} style={{backgroundColor: status === 'NEW' ? '#4f46e5' : (status === 'TODO' ? '#f59e0b' : color)}}>
                {status}
            </span>
        );

        // --- PILLAR WHEEL (Same as before) ---
        const PillarWheel = ({ activeId, setActiveId }) => {
            const radius = 160;
            const center = 250;
            
            return (
                <div className="relative w-[500px] h-[600px] flex items-center justify-center -mt-10">
                    <svg viewBox="0 0 500 600" className="w-full h-full">
                        <defs>
                            <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
                                <feGaussianBlur in="SourceAlpha" stdDeviation="5"/>
                                <feOffset dx="0" dy="5" result="offsetblur"/>
                                <feComponentTransfer>
                                    <feFuncA type="linear" slope="0.3"/>
                                </feComponentTransfer>
                                <feMerge> 
                                    <feMergeNode/>
                                    <feMergeNode in="SourceGraphic"/> 
                                </feMerge>
                            </filter>
                        </defs>
                        <path d="M 230 250 L 270 250 L 270 520 L 230 520 Z" fill="#1e293b" />
                        <path d="M 150 520 L 350 520 L 370 580 L 130 580 Z" fill="#0f172a" />
                        <text x="250" y="560" textAnchor="middle" fill="#64748b" className="text-[10px] font-bold tracking-[0.2em] uppercase">The Support Engine</text>
                        <circle cx="190" cy="540" r="3" fill="#cbd5e1" />
                        <circle cx="230" cy="540" r="3" fill="#cbd5e1" />
                        <circle cx="270" cy="540" r="3" fill="#cbd5e1" />
                        <circle cx="310" cy="540" r="3" fill="#cbd5e1" />

                        <g filter="url(#softShadow)">
                            {stages.map((stage, index) => {
                                const totalStages = stages.length;
                                const anglePerStage = 360 / totalStages;
                                const startAngle = (index * anglePerStage) - 90;
                                const endAngle = ((index + 1) * anglePerStage) - 90;
                                const isActive = activeId === stage.id;
                                const x1 = center + radius * Math.cos(Math.PI * (startAngle) / 180);
                                const y1 = center + radius * Math.sin(Math.PI * (startAngle) / 180);
                                const x2 = center + radius * Math.cos(Math.PI * (endAngle) / 180);
                                const y2 = center + radius * Math.sin(Math.PI * (endAngle) / 180);
                                const innerRadius = 90;
                                const ix1 = center + innerRadius * Math.cos(Math.PI * (endAngle) / 180);
                                const iy1 = center + innerRadius * Math.sin(Math.PI * (endAngle) / 180);
                                const ix2 = center + innerRadius * Math.cos(Math.PI * (startAngle) / 180);
                                const iy2 = center + innerRadius * Math.sin(Math.PI * (startAngle) / 180);
                                const pathData = `M ${x1} ${y1} A ${radius} ${radius} 0 0 1 ${x2} ${y2} L ${ix1} ${iy1} A ${innerRadius} ${innerRadius} 0 0 0 ${ix2} ${iy2} Z`;
                                const midAngle = startAngle + (anglePerStage / 2);
                                const labelR = (radius + innerRadius) / 2;
                                const tx = center + labelR * Math.cos(Math.PI * midAngle / 180);
                                const ty = center + labelR * Math.sin(Math.PI * midAngle / 180);

                                return (
                                    <g key={stage.id} onClick={() => setActiveId(stage.id)} className="cursor-pointer group">
                                        <path 
                                            d={pathData} 
                                            fill={stage.color}
                                            stroke="white"
                                            strokeWidth="4"
                                            className="transition-all duration-300"
                                            style={{
                                                opacity: isActive ? 1 : 0.8, 
                                                transformOrigin: 'center', 
                                                transform: isActive ? 'scale(1.05)' : 'scale(1)'
                                            }}
                                        />
                                        <text x={tx} y={ty} textAnchor="middle" dominantBaseline="middle" fill="white" className="text-2xl font-bold font-serif opacity-90 pointer-events-none">{index + 1}</text>
                                    </g>
                                )
                            })}
                        </g>
                        <circle cx={center} cy={center} r="75" fill="white" filter="url(#softShadow)" />
                        <circle cx={center} cy={center} r="70" fill="white" stroke="#e2e8f0" strokeWidth="1" />
                        <foreignObject x={center - 50} y={center - 50} width="100" height="100">
                            <div className="w-full h-full flex flex-col items-center justify-center text-center pointer-events-none">
                                <span className="text-[10px] font-bold tracking-widest text-slate-400 uppercase">Truth.</span>
                                <span className="text-2xl font-bold text-slate-900 serif leading-tight">Client</span>
                                <span className="text-[9px] font-bold tracking-widest text-slate-400 uppercase">Delivered.</span>
                            </div>
                        </foreignObject>
                    </svg>
                </div>
            )
        }

        const App = () => {
            const [activeId, setActiveId] = useState(1);
            const activeStage = stages.find(s => s.id === activeId);

            const isPillarActive = (pillarId) => {
                return activeStage?.activePillars.includes(pillarId);
            };

            // Helper to get gateway task
            const getGateway = (pillarId) => {
                return activeStage.gateway ? activeStage.gateway[pillarId] : null;
            }

            return (
                <div className="w-full flex flex-col gap-8">
                    
                    {/* HEADER */}
                    <div className="flex justify-between items-end border-b-2 border-slate-900 pb-4">
                        <div>
                            <h1 className="serif text-4xl font-bold text-slate-900">The Pigeon Way</h1>
                            <div className="flex items-center gap-3 mt-2">
                                <span className="text-xs font-bold bg-slate-900 text-white px-2 py-1 rounded tracking-wider uppercase">ACE Model</span>
                                <span className="text-xs font-medium text-slate-500 uppercase tracking-widest">Unified Operations System</span>
                            </div>
                        </div>
                    </div>

                    {/* MAIN CONTENT AREA */}
                    <div className="flex flex-col lg:flex-row gap-0 items-center lg:items-start h-auto lg:h-[600px]">
                        
                        {/* LEFT: THE PILLAR WHEEL */}
                        <div className="w-full lg:w-1/3 flex flex-col items-center justify-start pt-10 h-full relative">
                            <div className="absolute top-0 left-0 text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mb-4">The Client Cycle (90 People)</div>
                            <PillarWheel activeId={activeId} setActiveId={setActiveId} />
                        </div>

                        {/* RIGHT: THE DETAIL CARD (CLEANER - NO FOOTER) */}
                        <div className="w-full lg:w-2/3 h-full pt-10">
                            <AnimatePresence mode="wait">
                                <motion.div 
                                    key={activeStage.id}
                                    initial={{ opacity: 0, x: 20 }}
                                    animate={{ opacity: 1, x: 0 }}
                                    exit={{ opacity: 0, x: -20 }}
                                    transition={{ duration: 0.3 }}
                                    className="h-full bg-white rounded-xl shadow-2xl overflow-hidden border-t-8 flex flex-col pb-6"
                                    style={{ borderColor: activeStage.color }}
                                >
                                    {/* Card Header */}
                                    <div className="p-8 pb-4 border-b border-slate-100 bg-slate-50/50">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <div className="text-[10px] font-bold uppercase tracking-widest mb-1" style={{color: activeStage.color}}>Step {activeStage.id}</div>
                                                <h2 className="text-4xl font-bold text-slate-900 mb-1">{activeStage.name}</h2>
                                                <p className="serif italic text-slate-500 text-xl">"{activeStage.tagline}"</p>
                                            </div>
                                            <div className="bg-white border border-slate-200 rounded p-3 min-w-[160px] shadow-sm">
                                                <div className="flex justify-between items-center mb-1 gap-2">
                                                    <div className="text-[9px] font-bold text-slate-400 uppercase">Documentation</div>
                                                    <div className="text-[10px] font-bold" style={{color: activeStage.color}}>{activeStage.health}%</div>
                                                </div>
                                                <div className="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                                    <motion.div 
                                                        initial={{width: 0}} 
                                                        animate={{width: `${activeStage.health}%`}} 
                                                        className="h-full" 
                                                        style={{background: activeStage.color}}
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Card Body */}
                                    <div className="flex-grow overflow-y-auto custom-scroll p-8">
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                                            {/* People & Process */}
                                            <div>
                                                <h3 className="text-[10px] font-bold text-slate-400 uppercase mb-3 flex items-center gap-2">
                                                    <span className="w-2 h-2 rounded-full" style={{backgroundColor: activeStage.color}}></span> People
                                                </h3>
                                                <div className="bg-slate-50 p-4 rounded-lg border border-slate-100">
                                                    <div className="text-sm font-bold text-slate-900">{activeStage.people.role}</div>
                                                    <div className="text-xs text-slate-500">{activeStage.people.sub}</div>
                                                </div>
                                            </div>
                                            <div>
                                                <h3 className="text-[10px] font-bold text-slate-400 uppercase mb-3 flex items-center gap-2">
                                                    <span className="w-2 h-2 rounded-full" style={{backgroundColor: activeStage.color}}></span> Front Process
                                                </h3>
                                                <div className="space-y-2">
                                                    {activeStage.process.map((p, i) => (
                                                        <div key={i} className="flex justify-between items-center bg-white border border-slate-200 p-3 rounded-lg shadow-sm">
                                                            <span className="text-xs font-semibold text-slate-700">{p.name}</span>
                                                            <ProcessBadge status={p.status} color={activeStage.color} />
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>

                                        {/* AI / Intelligence Layer */}
                                        <div className="rounded-lg border border-l-4 p-5 bg-slate-50 relative overflow-hidden" style={{borderColor: activeStage.color}}>
                                            <div className="absolute top-0 left-0 w-full h-full opacity-5 pointer-events-none" style={{backgroundColor: activeStage.color}}></div>
                                            
                                            <div className="flex items-center gap-2 mb-4">
                                                <svg className="w-4 h-4" style={{color: activeStage.color}} fill="currentColor" viewBox="0 0 20 20"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" /></svg>
                                                <span className="text-[10px] font-bold uppercase tracking-widest" style={{color: activeStage.color}}>Documentation & AI Potential</span>
                                            </div>
                                            <div className="space-y-4 relative z-10">
                                                <div>
                                                    <div className="text-[9px] font-bold text-slate-400 uppercase mb-1">The Rule</div>
                                                    <div className="text-sm font-medium text-slate-800 italic">"{activeStage.aiData.rule}"</div>
                                                </div>
                                                <div className="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <div className="text-[9px] font-bold text-slate-400 uppercase mb-1">Documents</div>
                                                        <ul className="list-disc list-inside text-[11px] text-slate-600 mono">
                                                            {activeStage.aiData.docs.map((d, i) => <li key={i}>{d}</li>)}
                                                        </ul>
                                                    </div>
                                                    <div>
                                                        <div className="text-[9px] font-bold text-slate-400 uppercase mb-1">AI Upside</div>
                                                        <div className="text-[11px] text-slate-600 leading-relaxed">{activeStage.aiData.implication}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    {/* (No Black Footer Here anymore) */}
                                </motion.div>
                            </AnimatePresence>
                        </div>
                    </div>

                    {/* LABEL: SOCLE */}
                    <div className="flex items-center gap-4 px-2 mt-4">
                        <div className="text-[10px] font-bold text-slate-800 bg-slate-200 px-2 py-1 rounded uppercase tracking-[0.2em]">The Support Engine (Socle)</div>
                        <div className="h-px bg-slate-300 flex-grow relative">
                             <div className="absolute top-0 left-0 h-full w-full bg-gradient-to-r from-transparent via-slate-400 to-transparent opacity-50 animate-pulse"></div>
                        </div>
                        <div className="text-[9px] font-bold text-slate-400 uppercase tracking-widest">Always On â€¢ 7 People</div>
                    </div>

                    {/* SOCLE FOOTER: DYNAMIC INJECTION */}
                    <div className="socle-premium rounded-xl p-6 text-slate-300 grid grid-cols-2 md:grid-cols-5 gap-4 border-t-2 border-slate-800 relative z-10 shadow-2xl">
                        
                        {/* 1. FINANCE */}
                        <div className={`p-4 rounded border transition-all duration-500 ${isPillarActive('finance') ? 'bg-slate-900/80 border-[#84cc16] shadow-[0_0_20px_rgba(132,204,22,0.2)]' : 'bg-transparent border-slate-800 opacity-60'}`}>
                            <div className="flex justify-between items-start mb-3">
                                <div className="flex items-center gap-2">
                                    <div className={`w-1.5 h-1.5 rounded-full ${isPillarActive('finance') ? 'bg-[#84cc16] shadow-[0_0_8px_#84cc16] animate-pulse' : 'bg-slate-600'}`}></div>
                                    <div className={`font-bold text-sm tracking-wide ${isPillarActive('finance') ? 'text-white' : 'text-slate-500'}`}>FINANCE</div>
                                </div>
                                {/* Accountability Name */}
                                <div className="text-[8px] uppercase tracking-wider text-slate-500 font-mono">Greg & Rini</div>
                            </div>
                            
                            {/* DYNAMIC INJECTION: If active, show the gateway task HERE */}
                            {isPillarActive('finance') && getGateway('finance') && (
                                <div className="mb-3 bg-[#84cc16]/10 border border-[#84cc16] p-2 rounded">
                                    <div className="text-[8px] font-bold text-[#84cc16] uppercase tracking-widest mb-1">Gateway Action</div>
                                    <div className="text-[10px] font-bold text-white">{getGateway('finance')}</div>
                                </div>
                            )}

                            <ul className="space-y-2 font-mono">
                                <li className="text-[9px] text-slate-500">:: Budgets & Cashflow</li>
                                <li className="text-[9px] text-slate-500">:: Billing & AP</li>
                            </ul>
                        </div>

                        {/* 2. PEOPLE */}
                        <div className={`p-4 rounded border transition-all duration-500 ${isPillarActive('people') ? 'bg-slate-900/80 border-[#D6407D] shadow-[0_0_20px_rgba(214,64,125,0.2)]' : 'bg-transparent border-slate-800 opacity-60'}`}>
                            <div className="flex justify-between items-start mb-3">
                                <div className="flex items-center gap-2">
                                    <div className={`w-1.5 h-1.5 rounded-full ${isPillarActive('people') ? 'bg-[#D6407D] shadow-[0_0_8px_#D6407D] animate-pulse' : 'bg-slate-600'}`}></div>
                                    <div className={`font-bold text-sm tracking-wide ${isPillarActive('people') ? 'text-white' : 'text-slate-500'}`}>PEOPLE</div>
                                </div>
                                <div className="text-[8px] uppercase tracking-wider text-slate-500 font-mono">Emily</div>
                            </div>

                             {/* DYNAMIC INJECTION */}
                             {isPillarActive('people') && getGateway('people') && (
                                <div className="mb-3 bg-[#D6407D]/10 border border-[#D6407D] p-2 rounded">
                                    <div className="text-[8px] font-bold text-[#D6407D] uppercase tracking-widest mb-1">Gateway Action</div>
                                    <div className="text-[10px] font-bold text-white">{getGateway('people')}</div>
                                </div>
                            )}

                            <ul className="space-y-2 font-mono">
                                <li className="text-[9px] text-slate-500">:: Recruiting</li>
                                <li className="text-[9px] text-slate-500">:: Onboarding</li>
                            </ul>
                        </div>

                        {/* 3. IT & OPS */}
                        <div className={`p-4 rounded border transition-all duration-500 ${isPillarActive('it') ? 'bg-slate-900/80 border-[#f59e0b] shadow-[0_0_20px_rgba(245,158,11,0.2)]' : 'bg-transparent border-slate-800 opacity-60'}`}>
                            <div className="flex justify-between items-start mb-3">
                                <div className="flex items-center gap-2">
                                    <div className={`w-1.5 h-1.5 rounded-full ${isPillarActive('it') ? 'bg-[#f59e0b] shadow-[0_0_8px_#f59e0b] animate-pulse' : 'bg-slate-600'}`}></div>
                                    <div className={`font-bold text-sm tracking-wide ${isPillarActive('it') ? 'text-white' : 'text-slate-500'}`}>IT & OPS</div>
                                </div>
                                <div className="text-[8px] uppercase tracking-wider text-slate-500 font-mono">Mark</div>
                            </div>

                             {/* DYNAMIC INJECTION */}
                             {isPillarActive('it') && getGateway('it') && (
                                <div className="mb-3 bg-[#f59e0b]/10 border border-[#f59e0b] p-2 rounded">
                                    <div className="text-[8px] font-bold text-[#f59e0b] uppercase tracking-widest mb-1">Gateway Action</div>
                                    <div className="text-[10px] font-bold text-white">{getGateway('it')}</div>
                                </div>
                            )}

                            <ul className="space-y-2 font-mono">
                                <li className="text-[9px] text-slate-500">:: Support & Assets</li>
                                <li className="text-[9px] text-slate-500">:: Data Security</li>
                            </ul>
                        </div>

                         {/* 4. MARKETING */}
                         <div className={`p-4 rounded border transition-all duration-500 ${isPillarActive('marketing') ? 'bg-slate-900/80 border-[#64748b] shadow-[0_0_20px_rgba(100,116,139,0.2)]' : 'bg-transparent border-slate-800 opacity-60'}`}>
                            <div className="flex justify-between items-start mb-3">
                                <div className="flex items-center gap-2">
                                    <div className={`w-1.5 h-1.5 rounded-full ${isPillarActive('marketing') ? 'bg-[#94a3b8] shadow-[0_0_8px_#94a3b8] animate-pulse' : 'bg-slate-600'}`}></div>
                                    <div className={`font-bold text-sm tracking-wide ${isPillarActive('marketing') ? 'text-white' : 'text-slate-500'}`}>MARKETING</div>
                                </div>
                                <div className="text-[8px] uppercase tracking-wider text-slate-500 font-mono">Team</div>
                            </div>

                             {/* DYNAMIC INJECTION */}
                             {isPillarActive('marketing') && getGateway('marketing') && (
                                <div className="mb-3 bg-[#64748b]/20 border border-[#64748b] p-2 rounded">
                                    <div className="text-[8px] font-bold text-[#94a3b8] uppercase tracking-widest mb-1">Gateway Action</div>
                                    <div className="text-[10px] font-bold text-white">{getGateway('marketing')}</div>
                                </div>
                            )}

                            <ul className="space-y-2 font-mono">
                                <li className="text-[9px] text-slate-500">:: Brand Health</li>
                                <li className="text-[9px] text-slate-500">:: Events & PR</li>
                            </ul>
                        </div>

                        {/* 5. LEGAL */}
                         <div className={`p-4 rounded border transition-all duration-300 bg-transparent border-slate-800 opacity-40`}>
                            <div className="flex justify-between items-start mb-3">
                                <div className="flex items-center gap-2">
                                    <div className="w-1.5 h-1.5 rounded-full bg-violet-500"></div>
                                    <div className="font-bold text-sm tracking-wide text-slate-500">LEGAL</div>
                                </div>
                                <div className="text-[8px] uppercase tracking-wider text-slate-500 font-mono">External</div>
                            </div>
                            <ul className="space-y-2 font-mono">
                                <li className="text-[9px] text-slate-500">:: Risk Mgmt</li>
                                <li className="text-[9px] text-slate-500">:: Compliance</li>
                            </ul>
                        </div>
                    </div>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>